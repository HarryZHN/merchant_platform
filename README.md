# 多租户水果店小程序

## 项目概述

这是一款基于微信云开发的多租户模式水果店小程序，支持多个商户独立入驻运营，用户可以浏览商品、下单、支付等，同时提供开发者后台和商户后台管理功能。

## 核心功能

### 租户管理模块（开发者后台）
- 商户入驻审核
- 商户权限分配
- 商户信息管理
- 系统统一维护
- 数据统计分析

### 商户后台模块
- 商品管理
- 订单管理
- 会员管理
- 营销活动
- 配送管理
- 支付管理

### 用户前端模块
- 商户访问（列表、专属路径、定位推荐）
- 商品浏览
- 下单支付
- 会员中心
- 评价互动
- 消息通知

## 技术栈

- 前端：微信小程序原生开发框架 (JavaScript, WXML, WXSS)
- 后端：微信云开发（云函数、云数据库、云存储）
- 数据库：微信云数据库（文档型NoSQL）

## 项目结构

```
├── pages/                 # 页面目录
│   ├── index/             # 首页
│   ├── merchantList/      # 商家列表页
│   ├── merchantDetail/    # 商家详情页
│   ├── productDetail/     # 商品详情页
│   ├── cart/              # 购物车页
│   ├── orderConfirm/      # 订单确认页
│   ├── userCenter/        # 用户中心页
│   ├── admin/             # 管理员页面
│   └── merchant/          # 商家管理页面
├── cloudfunctions/        # 云函数目录
│   ├── initDatabase/      # 初始化数据库
│   ├── merchantAuth/      # 商家认证
│   └── ...
├── images/                # 图片资源
├── utils/                 # 工具函数
├── app.js                 # 全局逻辑
├── app.json               # 全局配置
├── app.wxss               # 全局样式
├── project.config.json    # 项目配置
└── README.md              # 项目说明
```

## 开发说明

### 准备工作

1. 注册微信小程序账号
2. 创建小程序项目
3. 开通微信云开发
4. 配置云开发环境

### 初始化步骤

1. 克隆项目到本地
2. 在微信开发者工具中导入项目
3. 配置云开发环境ID（在app.js中修改）
4. 部署云函数（特别是initDatabase）
5. 执行数据库初始化

### 环境配置

修改 `app.js` 中的云开发环境ID：

```javascript
cloudBase: {
  env: 'your-cloud-env-id' // 替换为你的云开发环境ID
}
```

## 数据库集合说明

- **merchants**: 商家信息
- **products**: 商品信息
- **orders**: 订单信息
- **users**: 用户信息
- **members**: 会员信息
- **addresses**: 收货地址
- **cart**: 购物车数据
- **coupons**: 优惠券
- **evaluations**: 用户评价
- **banners**: 轮播图
- **adminUsers**: 管理员用户

## 注意事项

1. 本项目为示例代码，实际使用时请：
   - 完善权限验证逻辑
   - 加强数据安全措施
   - 修改默认管理员密码
   - 配置真实的支付参数

2. 图片资源需要自行替换为真实图片

3. 云开发资源需要自行开通并配置

## 许可证

MIT